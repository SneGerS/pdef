module test.interfaces;


message UserData {
    id      string;
    name    string;
    photos  list<PhotoData>;
}

message PhotoData {
    id          string;
    description string;
    url         string;

    user        UserData;
}

interface App {
    photos()    Photos;
}

interface GenericObject<T> {
    data()  T;
}

interface GenericCollection<Id, T> {
    get(id Id) T;
}

interface Users extends GenericCollection<string, User> {
    register(
        email string,
        password string) User;
}

interface User extends GenericObject<UserData> {}

interface Photos extends GenericCollection<string, Photo> {
    create(
        description string,
        url         string) Photo;
}

interface Photo extends GenericObject<PhotoData> {
    comments()  list<string>;
}
