module pdef.test.polymorphic;


enum PolymorphicType {
    SUBTYPE, SUBTYPE2, MULTILEVEL_SUBTYPE
}

message Base {
    type        PolymorphicType, discriminator;
}

message Subtype : Base(PolymorphicType.SUBTYPE) {
    subfield    string;
}

message Subtype2 : Base(PolymorphicType.SUBTYPE2) {
    subfield2   string;
}

message MultiLevelSubtype : Subtype(PolymorphicType.MULTILEVEL_SUBTYPE) {
    mfield      string;
}
